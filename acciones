local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")

local player = Players.LocalPlayer
local mouse = player:GetMouse()
local playerGui = player:WaitForChild("PlayerGui")

-- Variables generales
local currentTrack = nil 
local currentAnimId = nil 

local draggingSlider = false
local currentTransparency = 0
local lastAppliedTransparency = 0 
local originalTransparencies = {} 
local mapLoaded = false 

-- Variables de Target y Bring
local targetPlayer = nil 
local isTargeting = false 
local bringAllEnabled = false 

-- Variables de ESCANEO DE ITEMS
local itemScanEnabled = false
local HIGHLIGHT_NAME = "ESP_Highlight"
local TEXT_TAG_NAME = "ESP_TextTag"

-- ==========================================
-- VARIABLES FALSO NPC (NUEVO)
-- ==========================================
local fakeNpcEnabled = false
local npcData = {} -- {model, tag, isConfirmed, lastRot}
local lastNpcScan = 0
local lastNpcUpdate = 0
local NPC_MAX_WALKSPEED = 16.8
local NPC_UPDATE_FREQ = 0.05
-- ==========================================

-- IDs de Emotes
local ID_TORNADO = 135373056067761
local ID_SENTARSE = 71112973269174
local ID_BERRINCHE = 86339673982616
local ID_CUTE = 98695071641289
local ID_INVISIBLE = 113994067684875

local misEmotes = {
	{Name = "Tornado (G)",  Id = ID_TORNADO},
	{Name = "Sentarse (F)", Id = ID_SENTARSE},
	{Name = "Berrinche (H)", Id = ID_BERRINCHE},
	{Name = "Cute (J)",      Id = ID_CUTE},
	{Name = "Invisible (K)", Id = ID_INVISIBLE}
}

-- Ocultar men煤 nativo
task.spawn(function()
	for i = 1, 10 do 
		pcall(function() StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.EmotesMenu, false) end)
		task.wait(0.5) 
	end
end)

-- Guardado de estado del mapa
local function saveOriginalState(part)
	if part:IsA("BasePart") or part:IsA("Decal") or part:IsA("Texture") then
		if originalTransparencies[part] == nil then
			originalTransparencies[part] = part.Transparency
		end
	end
end

task.spawn(function()
	task.wait(1) 
	for _, obj in pairs(workspace:GetDescendants()) do
		saveOriginalState(obj)
	end
	workspace.DescendantAdded:Connect(saveOriginalState)
	mapLoaded = true
end)

-- --- INTERFAZ GRFICA (GUI) ---
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "System_Merged_Scanner"
screenGui.ResetOnSpawn = false
screenGui.DisplayOrder = 100
screenGui.IgnoreGuiInset = true 
screenGui.Parent = playerGui

-- Carpeta local para etiquetas de NPCs (Protecci贸n anti-parpadeo)
local npcTagsFolder = Instance.new("Folder", screenGui)
npcTagsFolder.Name = "NPCTags_Container"

local mainFrame = Instance.new("Frame")
mainFrame.Name = "TopContainer"
mainFrame.Size = UDim2.new(0, 110, 0, 32) 
mainFrame.Position = UDim2.new(0, 230, 0, 8) 
mainFrame.BackgroundTransparency = 1 
mainFrame.Parent = screenGui

local toggleBtn = Instance.new("TextButton")
toggleBtn.Name = "ToggleBtn"
toggleBtn.Text = "ACCIONES"
toggleBtn.Size = UDim2.new(1, 0, 1, 0)
toggleBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0) 
toggleBtn.BackgroundTransparency = 0.5
toggleBtn.TextColor3 = Color3.new(1, 1, 1)
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextSize = 12 
toggleBtn.Parent = mainFrame
local btnCorner = Instance.new("UICorner"); btnCorner.CornerRadius = UDim.new(1, 0); btnCorner.Parent = toggleBtn

local listFrame = Instance.new("Frame")
listFrame.Name = "ListPanel"
listFrame.Size = UDim2.new(1, 20, 0, 0) 
listFrame.Position = UDim2.new(0, -10, 0, 38) 
listFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
listFrame.BackgroundTransparency = 0.2
listFrame.Visible = false 
listFrame.ZIndex = 10 
listFrame.Active = true
listFrame.Parent = mainFrame
local listCorner = Instance.new("UICorner"); listCorner.CornerRadius = UDim.new(0, 8); listCorner.Parent = listFrame
local layout = Instance.new("UIListLayout"); layout.Parent = listFrame; layout.HorizontalAlignment = Enum.HorizontalAlignment.Center; layout.SortOrder = Enum.SortOrder.LayoutOrder; layout.Padding = UDim.new(0, 4)
local padding = Instance.new("UIPadding"); padding.PaddingTop = UDim.new(0, 8); padding.PaddingBottom = UDim.new(0, 8); padding.Parent = listFrame

-- Elementos de Input y Slider
local targetFrame = Instance.new("Frame")
targetFrame.Name = "TargetInputFrame"
targetFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
targetFrame.BorderSizePixel = 0
targetFrame.Position = UDim2.new(0.5, -100, 0.85, 0) 
targetFrame.Size = UDim2.new(0, 200, 0, 35)
targetFrame.Visible = false 
targetFrame.ZIndex = 20
targetFrame.Parent = screenGui
local tBgC = Instance.new("UICorner"); tBgC.CornerRadius = UDim.new(0, 6); tBgC.Parent = targetFrame

local targetBox = Instance.new("TextBox")
targetBox.Name = "TargetBox"
targetBox.Size = UDim2.new(1, -10, 1, 0)
targetBox.Position = UDim2.new(0, 5, 0, 0)
targetBox.BackgroundTransparency = 1
targetBox.TextColor3 = Color3.new(1, 1, 1)
targetBox.PlaceholderText = "Escribe nombre parcial..."
targetBox.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
targetBox.Font = Enum.Font.Gotham
targetBox.TextSize = 14
targetBox.Text = ""
targetBox.ZIndex = 21
targetBox.Parent = targetFrame

local sliderBarBackground = Instance.new("Frame")
sliderBarBackground.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
sliderBarBackground.BackgroundTransparency = 0.2
sliderBarBackground.BorderSizePixel = 0
sliderBarBackground.Position = UDim2.new(0.5, -150, 0.9, -20) 
sliderBarBackground.Size = UDim2.new(0, 300, 0, 12)
sliderBarBackground.Visible = false 
sliderBarBackground.ZIndex = 20
sliderBarBackground.Parent = screenGui
local sBgC = Instance.new("UICorner"); sBgC.CornerRadius = UDim.new(1, 0); sBgC.Parent = sliderBarBackground

local sliderFill = Instance.new("Frame")
sliderFill.BackgroundColor3 = Color3.fromRGB(170, 0, 255) 
sliderFill.BorderSizePixel = 0
sliderFill.Size = UDim2.new(0, 0, 1, 0)
sliderFill.ZIndex = 21
sliderFill.Parent = sliderBarBackground
local sFilC = Instance.new("UICorner"); sFilC.CornerRadius = UDim.new(1, 0); sFilC.Parent = sliderFill

local sliderKnob = Instance.new("ImageButton")
sliderKnob.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
sliderKnob.BorderSizePixel = 0
sliderKnob.Position = UDim2.new(0, -10, 0.5, -10)
sliderKnob.Size = UDim2.new(0, 20, 0, 20)
sliderKnob.ZIndex = 22
sliderKnob.Parent = sliderBarBackground
local skC = Instance.new("UICorner"); skC.CornerRadius = UDim.new(1, 0); skC.Parent = sliderKnob

local valueLabel = Instance.new("TextLabel")
valueLabel.BackgroundTransparency = 1
valueLabel.Position = UDim2.new(0.5, 0, -2.5, 0)
valueLabel.Size = UDim2.new(1, 0, 1, 0)
valueLabel.Font = Enum.Font.GothamBold
valueLabel.Text = "Transparencia Mapa: 0%"
valueLabel.TextColor3 = Color3.new(1, 1, 1)
valueLabel.TextStrokeTransparency = 0.5
valueLabel.TextSize = 16
valueLabel.ZIndex = 20
valueLabel.Parent = sliderBarBackground

-- ==========================================
-- FUNCIONES LOGICA FALSO NPC (INTEGRACIN)
-- ==========================================

local function createNpcTag(target)
	local bGui = Instance.new("BillboardGui", npcTagsFolder)
	bGui.Name = "FakeNPCTag"
	bGui.Size = UDim2.new(0, 150, 0, 50)
	bGui.AlwaysOnTop = true
	bGui.Adornee = target
	bGui.Enabled = false 
	
	local tl = Instance.new("TextLabel", bGui)
	tl.Size = UDim2.new(1, 0, 1, 0)
	tl.BackgroundTransparency = 1
	tl.TextScaled = true
	tl.Font = Enum.Font.GothamBold
	tl.Text = "" 
	tl.TextColor3 = Color3.new(1, 0, 0) 
	tl.TextStrokeTransparency = 0
	
	return bGui
end

local function scanNPCs()
	for _, v in ipairs(workspace:GetDescendants()) do
		if v:IsA("Model") and v:FindFirstChild("Task") then
			if not npcData[v] then
				local head = v:FindFirstChild("Head") or v:FindFirstChildWhichIsA("BasePart")
				if head then
					npcData[v] = {
						tag = createNpcTag(head),
						isConfirmed = false
					}
				end
			end
		end
	end
end

local function checkNpcViolations(model, data)
	local hrp = model:FindFirstChild("HumanoidRootPart")
	local hum = model:FindFirstChild("Humanoid")
	if not hrp or not hum or data.isConfirmed then return end

	-- 1. Salto o Ca铆da brusca
	local state = hum:GetState()
	if state == Enum.HumanoidStateType.Jumping or state == Enum.HumanoidStateType.Freefall then
		if hrp.Velocity.Y > 5 then data.isConfirmed = true end
	end

	-- 2. Velocidad de Carrera
	local horizontalSpeed = Vector3.new(hrp.Velocity.X, 0, hrp.Velocity.Z).Magnitude
	if horizontalSpeed > NPC_MAX_WALKSPEED then data.isConfirmed = true end

	-- 3. Movimiento Lateral (Strafing)
	local moveDir = hum.MoveDirection
	if moveDir.Magnitude > 0 then
		local dot = math.abs(moveDir:Dot(hrp.CFrame.RightVector))
		if dot > 0.85 then data.isConfirmed = true end
	end

	if data.isConfirmed then
		data.tag.Enabled = fakeNpcEnabled
		data.tag.TextLabel.Text = "锔 JUGADOR 锔"
	end
end

local function removeNpcVisuals()
	for _, data in pairs(npcData) do
		if data.tag then data.tag:Destroy() end
	end
	npcData = {}
end

-- ==========================================
-- FIN LOGICA FALSO NPC
-- ==========================================

-- FUNCIONES DE LGICA GENERAL
local function findTarget(text)
	text = text:lower()
	if text:gsub(" ", "") == "" then return nil end
	for _, p in ipairs(Players:GetPlayers()) do
		if p ~= player then
			if #text > 0 and (p.Name:lower():sub(1, #text) == text or p.DisplayName:lower():sub(1, #text) == text) then
				return p
			end
		end
	end
	return nil
end

local function restorePlayerPhysics(p)
	if p and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
		local root = p.Character.HumanoidRootPart
		root.CanCollide = true
		root.Massless = false
		root.Transparency = 1
		root.Size = Vector3.new(2, 2, 1)
		if root:FindFirstChild("TargetVis") then root.TargetVis:Destroy() end
		if root:FindFirstChild("BringAllVis") then root.BringAllVis:Destroy() end
	end
end

local function restoreAllPhysics()
	for _, p in ipairs(Players:GetPlayers()) do
		if p ~= player then restorePlayerPhysics(p) end
	end
end

-- LOGICA ESCANEO ITEMS (Integraci贸n de colores)
local function getColorFromName(name)
	local sum = 0
	for i = 1, #name do sum = sum + string.byte(name, i) end
	return Color3.fromHSV((sum % 255) / 255, 1, 1)
end

local function clearItemVisuals(character)
	if character:FindFirstChild(HIGHLIGHT_NAME) then character[HIGHLIGHT_NAME]:Destroy() end
	local head = character:FindFirstChild("Head")
	if head and head:FindFirstChild(TEXT_TAG_NAME) then head[TEXT_TAG_NAME]:Destroy() end
end

local function removeAllItemVisuals()
	for _, p in ipairs(Players:GetPlayers()) do
		if p.Character then clearItemVisuals(p.Character) end
	end
end

local function updateItemVisuals(character, color, textContent)
	local highlight = character:FindFirstChild(HIGHLIGHT_NAME)
	if not highlight then
		highlight = Instance.new("Highlight", character)
		highlight.Name = HIGHLIGHT_NAME
		highlight.FillTransparency = 1
		highlight.OutlineTransparency = 0
		highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
	end
	highlight.OutlineColor = color

	local head = character:FindFirstChild("Head")
	if head then
		local bg = head:FindFirstChild(TEXT_TAG_NAME)
		if not bg then
			bg = Instance.new("BillboardGui", head)
			bg.Name = TEXT_TAG_NAME
			bg.Size = UDim2.new(0, 200, 0, 50)
			bg.StudsOffset = Vector3.new(0, 3.5, 0)
			bg.AlwaysOnTop = true
			local txt = Instance.new("TextLabel", bg)
			txt.Size = UDim2.new(1, 0, 1, 0); txt.BackgroundTransparency = 1
			txt.TextStrokeTransparency = 0; txt.Font = Enum.Font.GothamBold; txt.TextSize = 15
		end
		bg.TextLabel.Text = textContent
		bg.TextLabel.TextColor3 = color
	end
end

local function checkInventories()
	for _, p in ipairs(Players:GetPlayers()) do
		if p ~= player and p.Character and p.Character:FindFirstChild("Head") then
			local toolCount = 0
			local toolName = nil
			local backpack = p:FindFirstChild("Backpack")
			if backpack then
				for _, item in ipairs(backpack:GetChildren()) do
					if item:IsA("Tool") then toolCount = toolCount + 1; if not toolName then toolName = item.Name end end
				end
			end
			local equipped = p.Character:FindFirstChildWhichIsA("Tool")
			if equipped then toolCount = toolCount + 1; toolName = equipped.Name end
			
			if toolCount > 0 then
				local color = toolCount > 2 and Color3.new(1,1,1) or getColorFromName(toolName)
				local text = toolName .. (toolCount > 1 and " (+"..(toolCount-1)..")" or "")
				updateItemVisuals(p.Character, color, text)
			else
				clearItemVisuals(p.Character)
			end
		end
	end
end

-- BUCLE PRINCIPAL (RenderStepped)
RunService.RenderStepped:Connect(function()
	local now = tick()
	
	-- Slider Transparencia
	if draggingSlider then
		local percentage = math.clamp((mouse.X - sliderBarBackground.AbsolutePosition.X) / sliderBarBackground.AbsoluteSize.X, 0, 1)
		sliderKnob.Position = UDim2.new(percentage, -10, 0.5, -10)
		sliderFill.Size = UDim2.new(percentage, 0, 1, 0)
		currentTransparency = percentage
		valueLabel.Text = "Transparencia Mapa: " .. math.floor(percentage * 100) .. "%"
	end
	
	if mapLoaded and math.abs(currentTransparency - lastAppliedTransparency) > 0.01 then
		lastAppliedTransparency = currentTransparency
		for part, original in pairs(originalTransparencies) do
			if part and part.Parent and not (player.Character and part:IsDescendantOf(player.Character)) then
				part.Transparency = math.max(original, currentTransparency)
			end
		end
	end
	
	-- L贸gica Target
	if isTargeting and targetPlayer and targetPlayer.Character then
		local root = targetPlayer.Character:FindFirstChild("HumanoidRootPart")
		local myRoot = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
		if root and myRoot then
			root.Size = Vector3.new(5, 5, 5); root.Transparency = 0.5; root.CanCollide = false; root.Massless = true
			if not root:FindFirstChild("TargetVis") then
				local box = Instance.new("SelectionBox", root); box.Name = "TargetVis"; box.Adornee = root; box.Color3 = Color3.fromRGB(255,0,0)
			end
			root.CFrame = myRoot.CFrame * CFrame.new(0, 0, -3)
			root.Velocity, root.RotVelocity = Vector3.new(), Vector3.new()
		end
	end

	-- L贸gica Bring All
	if bringAllEnabled then
		local myRoot = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
		if myRoot then
			for _, p in ipairs(Players:GetPlayers()) do
				if p ~= player and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
					local root = p.Character.HumanoidRootPart
					root.Size = Vector3.new(5,5,5); root.Transparency = 0.5; root.CanCollide = false; root.Massless = true
					if not root:FindFirstChild("BringAllVis") then
						local box = Instance.new("SelectionBox", root); box.Name = "BringAllVis"; box.Adornee = root; box.Color3 = Color3.fromRGB(170,0,255)
					end
					root.CFrame = myRoot.CFrame * CFrame.new(0,0,-4); root.Velocity, root.RotVelocity = Vector3.new(), Vector3.new()
				end
			end
		end
	end
	
	if itemScanEnabled then checkInventories() end

	-- ==========================================
	-- INTEGRACIN BUCLE FALSO NPC
	-- ==========================================
	if fakeNpcEnabled then
		if now - lastNpcScan > 2 then scanNPCs(); lastNpcScan = now end
		if now - lastNpcUpdate > NPC_UPDATE_FREQ then
			local myChar = player.Character
			local myHrp = myChar and myChar:FindFirstChild("HumanoidRootPart")
			for model, data in pairs(npcData) do
				if model.Parent and myHrp then
					local dist = (model.HumanoidRootPart.Position - myHrp.Position).Magnitude
					data.tag.Enabled = showLabels and data.isConfirmed and (dist < MAX_DISTANCE)
					checkNpcViolations(model, data)
				elseif not model.Parent then
					data.tag:Destroy(); npcData[model] = nil
				end
			end
			lastNpcUpdate = now
		end
	end
end)

-- ACCIONES DE BOTONES
local function toggleAnim(animId)
	if currentTrack then currentTrack:Stop(); currentTrack = nil end
	if currentAnimId == animId then currentAnimId = nil; return end
	currentAnimId = animId
	local char = player.Character; local hum = char and char:FindFirstChild("Humanoid")
	if hum then
		local animator = hum:FindFirstChild("Animator") or Instance.new("Animator", hum)
		local animation = Instance.new("Animation"); animation.AnimationId = "rbxassetid://"..tostring(animId)
		local s, t = pcall(function() return animator:LoadAnimation(animation) end)
		if s and t then currentTrack = t; t.Priority = Enum.AnimationPriority.Action; t.Looped = true; t:Play() end
	end
end

local function killScript()
	if currentTrack then currentTrack:Stop() end
	bringAllEnabled, isTargeting, itemScanEnabled, fakeNpcEnabled = false, false, false, false
	restoreAllPhysics(); removeAllItemVisuals(); removeNpcVisuals()
	if mapLoaded then for part, original in pairs(originalTransparencies) do if part and part.Parent then part.Transparency = original end end end
	screenGui:Destroy()
end

local function createButton(text, color, order, callback)
	local btn = Instance.new("TextButton", listFrame)
	btn.Text = text; btn.Size = UDim2.new(0.95, 0, 0, 30); btn.BackgroundColor3 = color; btn.BackgroundTransparency = 0.3
	btn.TextColor3 = Color3.new(1,1,1); btn.Font = Enum.Font.GothamSemibold; btn.TextSize = 11; btn.LayoutOrder = order; btn.ZIndex = 11
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)
	btn.MouseButton1Click:Connect(callback)
	return btn
end

for i, data in ipairs(misEmotes) do
	createButton(data.Name, Color3.fromRGB(60, 60, 70), i, function() toggleAnim(data.Id) end)
end

createButton("TRANSPARENCIA MAPA", Color3.fromRGB(120, 40, 200), 50, function() sliderBarBackground.Visible = not sliderBarBackground.Visible end)

local itemScanBtn = createButton("ESCANEO ITEMS (OFF)", Color3.fromRGB(0, 150, 200), 55, function()
	itemScanEnabled = not itemScanEnabled; if not itemScanEnabled then removeAllItemVisuals() end
end)

-- --- BOTN NUEVO: FALSO NPC ---
local fakeNpcBtn = createButton("FALSO NPC (OFF)", Color3.fromRGB(80, 80, 80), 58, function()
	fakeNpcEnabled = not fakeNpcEnabled
	showLabels = fakeNpcEnabled -- Sincronizamos con el estado global de etiquetas
	if not fakeNpcEnabled then removeNpcVisuals() end
end)
-- ------------------------------

local dbTarget = false
local targetBtn = createButton("TARGET HITBOX", Color3.fromRGB(255, 100, 0), 60, function()
	if bringAllEnabled or dbTarget then return end
	dbTarget = true; targetFrame.Visible = not targetFrame.Visible
	if not targetFrame.Visible then isTargeting, targetPlayer, targetBox.Text = false, nil, ""; restoreAllPhysics() else targetBox:CaptureFocus() end
	task.wait(0.5); dbTarget = false
end)

local bringAllBtn = createButton("BRING ALL (OFF)", Color3.fromRGB(160, 32, 240), 65, function()
	bringAllEnabled = not bringAllEnabled; if bringAllEnabled then isTargeting, targetFrame.Visible = false, false else restoreAllPhysics() end
end)

createButton(" CERRAR TODO", Color3.fromRGB(200, 30, 30), 100, killScript)

-- Actualizaci贸n visual de botones
RunService.RenderStepped:Connect(function()
	itemScanBtn.Text = itemScanEnabled and "ESCANEO ITEMS (ON)" or "ESCANEO ITEMS (OFF)"
	itemScanBtn.BackgroundColor3 = itemScanEnabled and Color3.fromRGB(0, 255, 100) or Color3.fromRGB(0, 150, 200)

	fakeNpcBtn.Text = fakeNpcEnabled and "FALSO NPC (ON)" or "FALSO NPC (OFF)"
	fakeNpcBtn.BackgroundColor3 = fakeNpcEnabled and Color3.fromRGB(255, 150, 0) or Color3.fromRGB(80, 80, 80)

	if isTargeting then targetBtn.BackgroundColor3 = Color3.fromRGB(0, 255, 0); targetBtn.Text = "ATACANDO: " .. (targetPlayer and targetPlayer.Name or "...")
	else targetBtn.BackgroundColor3 = Color3.fromRGB(255, 100, 0); targetBtn.Text = "TARGET HITBOX" end
	
	bringAllBtn.BackgroundColor3 = bringAllEnabled and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(160, 32, 240)
	bringAllBtn.Text = bringAllEnabled and "BRING ALL (ON)" or "BRING ALL (OFF)"
end)

listFrame.Size = UDim2.new(1, 10, 0, (#misEmotes + 6) * 34 + 20)

toggleBtn.MouseButton1Click:Connect(function()
	listFrame.Visible = not listFrame.Visible
	toggleBtn.Text = listFrame.Visible and "CERRAR" or "ACCIONES"
end)

sliderKnob.MouseButton1Down:Connect(function() draggingSlider = true end)
targetBox.FocusLost:Connect(function(ep) if ep then local f = findTarget(targetBox.Text); if f then targetPlayer, isTargeting = f, true; targetBox.Text = "Objetivo: "..f.Name; targetBox.TextColor3 = Color3.new(0,1,0) else targetPlayer, isTargeting = nil, false; targetBox.Text = "No encontrado"; targetBox.TextColor3 = Color3.new(1,0,0); task.wait(1); targetBox.Text, targetBox.TextColor3 = "", Color3.new(1,1,1) end end end)
UserInputService.InputEnded:Connect(function(input) if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType.Touch then draggingSlider = false end end)
UserInputService.InputBegan:Connect(function(input, gp) if gp then return end
	if input.KeyCode == Enum.KeyCode.X then sliderBarBackground.Visible = not sliderBarBackground.Visible end
	if input.KeyCode == Enum.KeyCode.F then toggleAnim(ID_SENTARSE) elseif input.KeyCode == Enum.KeyCode.G then toggleAnim(ID_TORNADO)
	elseif input.KeyCode == Enum.KeyCode.H then toggleAnim(ID_BERRINCHE) elseif input.KeyCode == Enum.KeyCode.J then toggleAnim(ID_CUTE)
	elseif input.KeyCode == Enum.KeyCode.K then toggleAnim(ID_INVISIBLE) end
end)
